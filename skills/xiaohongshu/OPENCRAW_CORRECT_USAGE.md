# åœ¨ OpenClaw ä¸­ä½¿ç”¨å°çº¢ä¹¦ Skill çš„æ­£ç¡®æ–¹æ³•

## âš ï¸ é‡è¦è¯´æ˜

OpenClaw çš„ Skill ç³»ç»Ÿä¸ä¼ ç»Ÿçš„å‘½ä»¤ä¸åŒã€‚Skills **ä¸æ˜¯é€šè¿‡ `/å‘½ä»¤` çš„æ–¹å¼è°ƒç”¨**ï¼Œè€Œæ˜¯é€šè¿‡ **AI å¯¹è¯è‡ªåŠ¨è¯†åˆ«å¹¶è°ƒç”¨**ã€‚

---

## âœ… æ­£ç¡®çš„ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1: é€šè¿‡å¯¹è¯ç›´æ¥æè¿°éœ€æ±‚

åœ¨ OpenClaw çš„èŠå¤©æ¡†ä¸­ï¼Œç”¨è‡ªç„¶è¯­è¨€æè¿°ä½ æƒ³è¦åšçš„äº‹æƒ…ï¼š

#### 1. æ£€æŸ¥ç™»å½•çŠ¶æ€

```
è¯·å¸®æˆ‘æ£€æŸ¥å°çº¢ä¹¦çš„ç™»å½•çŠ¶æ€
```

æˆ–è€…

```
æ£€æŸ¥ä¸€ä¸‹æˆ‘æ˜¯å¦ç™»å½•äº†å°çº¢ä¹¦
```

#### 2. è·å–é¦–é¡µå†…å®¹

```
è·å–å°çº¢ä¹¦é¦–é¡µæ¨èåˆ—è¡¨
```

#### 3. æœç´¢å†…å®¹

```
å¸®æˆ‘æœç´¢å°çº¢ä¹¦ä¸Šå…³äº"å’–å•¡åº—"çš„å†…å®¹
```

#### 4. å‘å¸ƒå›¾æ–‡å†…å®¹

```
å¸®æˆ‘å‘å¸ƒä¸€ç¯‡å°çº¢ä¹¦ï¼Œæ ‡é¢˜æ˜¯"æ˜¥å¤©çš„ç¾é£Ÿ"ï¼Œå†…å®¹æ˜¯"æ¨èå‡ å®¶å¥½åƒçš„é¤å…"ï¼Œä½¿ç”¨å›¾ç‰‡ /Users/username/Pictures/food.jpg
```

#### 5. å‘å¸ƒè§†é¢‘å†…å®¹

```
å‘å¸ƒè§†é¢‘åˆ°å°çº¢ä¹¦ï¼Œæ ‡é¢˜æ˜¯"æ˜¥æ¸¸vlog"ï¼Œå†…å®¹æ˜¯"åˆ†äº«ä»Šå¤©çš„æ—…è¡Œ"ï¼Œè§†é¢‘æ–‡ä»¶åœ¨ /Users/username/Videos/trip.mp4
```

---

### æ–¹æ³• 2: ç›´æ¥è°ƒç”¨å·¥å…·å‡½æ•°

OpenClaw çš„ Skill å®é™…ä¸Šæ˜¯æä¾›äº†ä¸€ç»„å·¥å…·å‡½æ•°ç»™ AI ä½¿ç”¨ã€‚ä½ å¯ä»¥åœ¨å¯¹è¯ä¸­è¦æ±‚ AI è°ƒç”¨ç‰¹å®šå·¥å…·ï¼š

```
è¯·è°ƒç”¨ check_login å·¥å…·æ£€æŸ¥ç™»å½•çŠ¶æ€
```

```
è¯·ä½¿ç”¨ list_feeds å·¥å…·è·å–é¦–é¡µåˆ—è¡¨
```

```
è¯·ç”¨ publish_content å·¥å…·å‘å¸ƒå†…å®¹ï¼Œæ ‡é¢˜æ˜¯"xxx"ï¼Œå†…å®¹æ˜¯"yyy"ï¼Œå›¾ç‰‡æ˜¯ ["/path/to/img.jpg"]
```

---

## ğŸ” éªŒè¯ Skill æ˜¯å¦å·¥ä½œ

### æµ‹è¯•å¯¹è¯

åœ¨ OpenClaw ä¸­è¾“å…¥ï¼š

```
è¯·è°ƒç”¨ check_login_status å·¥å…·
```

**é¢„æœŸç»“æœ**ï¼š
- OpenClaw ä¼šè°ƒç”¨ skill çš„ `call` æ–¹æ³•
- Skill ä¼šè°ƒç”¨é€‚é…å™¨ APIï¼š`http://localhost:3000/api/check-login`
- è¿”å›ç™»å½•çŠ¶æ€

### æŸ¥çœ‹æ—¥å¿—

**æŸ¥çœ‹ Skill æ—¥å¿—**ï¼š
```bash
tail -f ~/.openclaw/logs/gateway.log | grep xiaohongshu
```

**æŸ¥çœ‹é€‚é…å™¨æ—¥å¿—**ï¼š
```bash
tail -f logs/adapter.log
```

---

## ğŸ› ï¸ è°ƒè¯•æŠ€å·§

### 1. ç¡®è®¤æœåŠ¡çŠ¶æ€

```bash
# æ£€æŸ¥é€‚é…å™¨
curl http://localhost:3000/api/health

# åº”è¯¥è¿”å›ï¼š
# {"status":"ok","mcp":"connected","tools":13}
```

### 2. éªŒè¯ Skill å¯¼å‡º

```bash
node -e "import('/Users/sunyang/.openclaw/workspace/skills/xiaohongshu-auto-publish/index.js').then(m => console.log('æ–¹æ³•:', Object.keys(m.default)))"
```

åº”è¯¥è¿”å›ï¼š
```
æ–¹æ³•: [ 'onLoad', 'tools', 'call', 'onUnload' ]
```

### 3. æ‰‹åŠ¨æµ‹è¯• API

```bash
# æµ‹è¯•ç™»å½•æ£€æŸ¥
curl http://localhost:3000/api/check-login | jq .

# æµ‹è¯•è·å–é¦–é¡µ
curl http://localhost:3000/api/feeds | jq '.data.count'
```

---

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. æ˜ç¡®æŒ‡å®šå‚æ•°

å½“è°ƒç”¨éœ€è¦å‚æ•°çš„å·¥å…·æ—¶ï¼Œæ˜ç¡®æä¾›æ‰€æœ‰å¿…éœ€å‚æ•°ï¼š

```
è¯·ç”¨ publish_content å·¥å…·å‘å¸ƒå†…å®¹ï¼š
- æ ‡é¢˜ï¼šæ˜¥å¤©çš„ç¾æ™¯
- å†…å®¹ï¼šåˆ†äº«å‡ ä¸ªæ‹æ‘„æ˜¥å¤©ç¾æ™¯çš„å¥½åœ°æ–¹
- å›¾ç‰‡ï¼š["/Users/username/Pictures/spring.jpg"]
- æ ‡ç­¾ï¼š["æ‘„å½±", "æ˜¥å¤©", "ç¾æ™¯"]
```

### 2. ç»„åˆå¤šä¸ªæ“ä½œ

```
è¯·å¸®æˆ‘ï¼š
1. æœç´¢å°çº¢ä¹¦ä¸Šå…³äº"å’–å•¡"çš„å†…å®¹
2. å¯¹å‰5æ¡ç»“æœè¿›è¡Œç‚¹èµ
```

### 3. æ‰¹é‡å¤„ç†

```
è¯·å¸®æˆ‘æ‰¹é‡å‘å¸ƒä»¥ä¸‹å†…å®¹ï¼š
1. æ ‡é¢˜ï¼šæ—©å®‰é—®å€™ï¼Œå†…å®¹ï¼šæ—©å®‰ï¼æ–°çš„ä¸€å¤©å¼€å§‹äº†ï¼Œå›¾ç‰‡ï¼š/path/to/morning.jpg
2. æ ‡é¢˜ï¼šåˆé¤æ¨èï¼Œå†…å®¹ï¼šä»Šå¤©åƒäº†å¥½åƒçš„ï¼Œå›¾ç‰‡ï¼š/path/to/lunch.jpg
```

---

## ğŸ“‹ å¯ç”¨å·¥å…·åˆ—è¡¨

OpenClaw å¯ä»¥è°ƒç”¨ä»¥ä¸‹å·¥å…·ï¼š

| å·¥å…·åç§° | è¯´æ˜ | å¿…éœ€å‚æ•° |
|---------|------|---------|
| `check_login_status` | æ£€æŸ¥ç™»å½•çŠ¶æ€ | æ—  |
| `get_login_qrcode` | è·å–ç™»å½•äºŒç»´ç  | æ—  |
| `list_feeds` | è·å–é¦–é¡µåˆ—è¡¨ | æ—  |
| `search_feeds` | æœç´¢å†…å®¹ | keyword |
| `get_feed_detail` | è·å–ç¬”è®°è¯¦æƒ… | feed_id, xsec_token |
| `publish_content` | å‘å¸ƒå›¾æ–‡ | title, content, images |
| `publish_with_video` | å‘å¸ƒè§†é¢‘ | title, content, video |
| `post_comment_to_feed` | å‘è¡¨è¯„è®º | feed_id, xsec_token, content |
| `reply_comment_in_feed` | å›å¤è¯„è®º | feed_id, xsec_token, content, comment_id, user_id |
| `like_feed` | ç‚¹èµ/å–æ¶ˆç‚¹èµ | feed_id, xsec_token |
| `favorite_feed` | æ”¶è—/å–æ¶ˆæ”¶è— | feed_id, xsec_token |
| `user_profile` | è·å–ç”¨æˆ·ä¸»é¡µ | user_id, xsec_token |

---

## ğŸš¨ å¸¸è§é—®é¢˜

### Q: è¾“å…¥ `/check-login` æ²¡æœ‰å“åº”

A: OpenClaw Skill ä¸ä½¿ç”¨ `/å‘½ä»¤` æ ¼å¼ã€‚è¯·ä½¿ç”¨è‡ªç„¶è¯­è¨€æè¿°ï¼š
```
è¯·æ£€æŸ¥å°çº¢ä¹¦çš„ç™»å½•çŠ¶æ€
```

### Q: AI ä¸çŸ¥é“å¦‚ä½•ä½¿ç”¨è¿™ä¸ª Skill

A: æ˜ç¡®å‘Šè¯‰ AI è°ƒç”¨å“ªä¸ªå·¥å…·ï¼š
```
è¯·è°ƒç”¨ check_login_status å·¥å…·
```

### Q: å¦‚ä½•çŸ¥é“ AI æ˜¯å¦è°ƒç”¨äº† Skill

A: æŸ¥çœ‹æ—¥å¿—ï¼š
```bash
tail -f ~/.openclaw/logs/gateway.log | grep xiaohongshu
```

æˆ–æŸ¥çœ‹é€‚é…å™¨æ—¥å¿—ï¼š
```bash
tail -f logs/adapter.log
```

---

## ğŸ¯ å®Œæ•´ç¤ºä¾‹å¯¹è¯

### ç¤ºä¾‹ 1: æœç´¢å¹¶ç‚¹èµ

**ç”¨æˆ·è¾“å…¥**ï¼š
```
å¸®æˆ‘æœç´¢å°çº¢ä¹¦ä¸Šå…³äº"å’–å•¡åº—"çš„å†…å®¹ï¼Œå¹¶å¯¹å‰3æ¡è¿›è¡Œç‚¹èµ
```

**AI ä¼š**ï¼š
1. è°ƒç”¨ `search_feeds` å·¥å…·
2. è·å–ç»“æœåè°ƒç”¨ `like_feed` å·¥å…·ï¼ˆ3æ¬¡ï¼‰

### ç¤ºä¾‹ 2: å‘å¸ƒå†…å®¹

**ç”¨æˆ·è¾“å…¥**ï¼š
```
è¯·å¸®æˆ‘å‘å¸ƒä¸€ç¯‡å°çº¢ä¹¦ï¼š
- æ ‡é¢˜ï¼šå‘¨æœ«æ¢åº—
- å†…å®¹ï¼šå‘ç°ä¸€å®¶è¶…æ£’çš„å’–å•¡é¦†
- å›¾ç‰‡ï¼š/Users/xxx/Pictures/cafe.jpg
- æ ‡ç­¾ï¼šç¾é£Ÿã€æ¢åº—ã€å‘¨æœ«
```

**AI ä¼š**ï¼š
1. è°ƒç”¨ `publish_content` å·¥å…·
2. ä¼ å…¥æ‰€æœ‰å‚æ•°

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æ£€æŸ¥é€‚é…å™¨çŠ¶æ€**
   ```bash
   curl http://localhost:3000/api/health
   ```

2. **æŸ¥çœ‹æ—¥å¿—**
   ```bash
   tail -f logs/adapter.log
   ```

3. **éªŒè¯ Skill**
   ```bash
   node test-skill-export.js
   ```

4. **å®Œå…¨é‡å¯ OpenClaw**
   - é€€å‡º OpenClaw åº”ç”¨
   - é‡æ–°æ‰“å¼€ OpenClaw

---

**å…³é”®ç‚¹**ï¼šOpenClaw Skills æ˜¯é€šè¿‡ **AI å¯¹è¯** ä½¿ç”¨çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡å‘½ä»¤ï¼
